{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\kranthik\\\\Documents\\\\Projects\\\\f-t-l-assignment\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\kranthik\\\\Documents\\\\Projects\\\\f-t-l-assignment\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\kranthik\\\\Documents\\\\Projects\\\\f-t-l-assignment\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _createSuper from\"C:\\\\Users\\\\kranthik\\\\Documents\\\\Projects\\\\f-t-l-assignment\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import _inherits from\"C:\\\\Users\\\\kranthik\\\\Documents\\\\Projects\\\\f-t-l-assignment\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from'react';import moment from'moment';import{TransitionGroup}from'react-transition-group';var Calendar=/*#__PURE__*/function(_React$Component){_inherits(Calendar,_React$Component);var _super=_createSuper(Calendar);function Calendar(props){var _this;_classCallCheck(this,Calendar);_this=_super.call(this,props);_this.state={selectedMonth:moment(),selectedDay:moment().startOf('day'),selectedMonthEvents:[],showEvents:false,timings:_this.props.member};_this.previous=_this.previous.bind(_assertThisInitialized(_this));_this.next=_this.next.bind(_assertThisInitialized(_this));_this.showCalendar=_this.showCalendar.bind(_assertThisInitialized(_this));_this.goToCurrentMonthView=_this.goToCurrentMonthView.bind(_assertThisInitialized(_this));_this.initialiseEvents();return _this;}_createClass(Calendar,[{key:\"previous\",value:function previous(){var currentMonthView=this.state.selectedMonth;this.setState({selectedMonth:currentMonthView.subtract(1,\"month\")});}},{key:\"next\",value:function next(){var currentMonthView=this.state.selectedMonth;this.setState({selectedMonth:currentMonthView.add(1,\"month\")});}},{key:\"select\",value:function select(day){this.setState({selectedMonth:day.date,selectedDay:day.date.clone(),showEvents:true});}},{key:\"goToCurrentMonthView\",value:function goToCurrentMonthView(){this.setState({selectedMonth:moment()});}},{key:\"showCalendar\",value:function showCalendar(){this.setState({selectedMonth:this.state.selectedMonth,selectedDay:this.state.selectedDay,showEvents:false});}},{key:\"renderMonthLabel\",value:function renderMonthLabel(){var currentMonthView=this.state.selectedMonth;return/*#__PURE__*/React.createElement(\"span\",{className:\"box month-label\"},currentMonthView.format(\"MMMM YYYY\"));}},{key:\"renderDayLabel\",value:function renderDayLabel(){var currentSelectedDay=this.state.selectedDay;return/*#__PURE__*/React.createElement(\"span\",{className:\"box month-label\"},currentSelectedDay.format(\"DD MMMM YYYY\"));}},{key:\"renderWeeks\",value:function renderWeeks(){var _this2=this;/*\r\n      Rendering weeks\r\n    */var currentMonthView=this.state.selectedMonth;var currentSelectedDay=this.state.selectedDay;var monthEvents=this.state.selectedMonthEvents;var weeks=[];var done=false;var previousCurrentNextView=currentMonthView.clone().startOf(\"month\").subtract(1,\"d\").day(\"Monday\");var count=0;var monthIndex=previousCurrentNextView.month();while(!done){weeks.push(/*#__PURE__*/React.createElement(Week,{previousCurrentNextView:previousCurrentNextView.clone(),currentMonthView:currentMonthView,monthEvents:monthEvents,selected:currentSelectedDay,select:function select(day){return _this2.select(day);}}));previousCurrentNextView.add(1,\"w\");done=count++>2&&monthIndex!==previousCurrentNextView.month();monthIndex=previousCurrentNextView.month();}return weeks;}},{key:\"initialiseEvents\",value:function initialiseEvents(){/*\r\n      Initialising Events\r\n    */var monthEvents=this.state.selectedMonthEvents;var timings=this.state.timings.activity_periods;var activityPeriods=[];var title;var date;var endTime;var allEvents=[];for(var _i=0;_i<timings.length;_i++){title=\"Event\"+(_i+1);date=moment(timings[_i].start_time);endTime=moment(timings[_i].end_time);activityPeriods.push({title:title,date:date,endTime:endTime,dynamic:false});}/*\r\n      activityPeriods: constructing activityPeriods which contains title,starttime,endtime\r\n    */allEvents.push(activityPeriods);for(var i=0;i<activityPeriods.length;i++){monthEvents.push(activityPeriods[i]);}/*\r\n      selectedMonthEvents: It contains the details of users activity i.e., date/timings\r\n    */this.setState({selectedMonthEvents:monthEvents});}},{key:\"render\",value:function render(){var currentMonthView=this.state.selectedMonth;var currentSelectedDay=this.state.selectedDay;var showEvents=this.state.showEvents;if(showEvents){return/*#__PURE__*/React.createElement(\"section\",{className:\"main-calendar\"},/*#__PURE__*/React.createElement(\"header\",{className:\"calendar-header\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row-c title-header\"},this.renderDayLabel()),/*#__PURE__*/React.createElement(\"div\",{className:\"row-c button-container\"},/*#__PURE__*/React.createElement(\"i\",{className:\"box arrow fa fa-angle-left\",onClick:this.showCalendar}))),/*#__PURE__*/React.createElement(Events,{selectedMonth:this.state.selectedMonth,selectedDay:this.state.selectedDay,selectedMonthEvents:this.state.selectedMonthEvents}));}else{return/*#__PURE__*/React.createElement(\"section\",{className:\"main-calendar\"},/*#__PURE__*/React.createElement(\"header\",{className:\"calendar-header\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row-c title-header\"},/*#__PURE__*/React.createElement(\"i\",{className:\"box arrow fa fa-angle-left\",onClick:this.previous}),/*#__PURE__*/React.createElement(\"div\",{className:\"box header-text\"},this.renderMonthLabel()),/*#__PURE__*/React.createElement(\"i\",{className:\"box arrow fa fa-angle-right\",onClick:this.next})),/*#__PURE__*/React.createElement(DayNames,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"days-container\"},this.renderWeeks()));}}}]);return Calendar;}(React.Component);var Events=/*#__PURE__*/function(_React$Component2){_inherits(Events,_React$Component2);var _super2=_createSuper(Events);function Events(){_classCallCheck(this,Events);return _super2.apply(this,arguments);}_createClass(Events,[{key:\"render\",value:function render(){var currentMonthView=this.props.selectedMonth;var currentSelectedDay=this.props.selectedDay;var monthEvents=this.props.selectedMonthEvents;var monthEventsRendered=monthEvents.map(function(event,i){return/*#__PURE__*/React.createElement(\"div\",{key:event.title,className:\"event-container\"},/*#__PURE__*/React.createElement(TransitionGroup,{component:\"div\",className:\"animated-time\",transitionName:\"time\",transitionappear:true,transitionappeartimeout:500,transitionentertimeout:500,transitionleavetimeout:500},/*#__PURE__*/React.createElement(\"div\",{className:\"event-time event-attribute\"},event.date.format(\"HH:mm\"),\" -\",event.endTime.format(\"HH:mm\"))),/*#__PURE__*/React.createElement(TransitionGroup,{component:\"div\",className:\"animated-title\",transitionName:\"title\",transitionappear:true,transitionappeartimeout:500,transitionentertimeout:500,transitionleavetimeout:500},/*#__PURE__*/React.createElement(\"div\",{className:\"event-title event-attribute\"},event.title)));});var dayEventsRendered=[];for(var i=0;i<monthEventsRendered.length;i++){if(currentSelectedDay.format(\"DD MMMM YYYY\")==moment(monthEvents[i].date).format(\"DD MMMM YYYY\")){dayEventsRendered.push(monthEventsRendered[i]);}}return/*#__PURE__*/React.createElement(\"div\",{className:\"day-events\"},dayEventsRendered);}}]);return Events;}(React.Component);/*\r\n  Days Header\r\n*/var DayNames=/*#__PURE__*/function(_React$Component3){_inherits(DayNames,_React$Component3);var _super3=_createSuper(DayNames);function DayNames(){_classCallCheck(this,DayNames);return _super3.apply(this,arguments);}_createClass(DayNames,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"row-c days-header\"},/*#__PURE__*/React.createElement(\"span\",{className:\"box day-name\"},\"Mon\"),/*#__PURE__*/React.createElement(\"span\",{className:\"box day-name\"},\"Tue\"),/*#__PURE__*/React.createElement(\"span\",{className:\"box day-name\"},\"Wed\"),/*#__PURE__*/React.createElement(\"span\",{className:\"box day-name\"},\"Thu\"),/*#__PURE__*/React.createElement(\"span\",{className:\"box day-name\"},\"Fri\"),/*#__PURE__*/React.createElement(\"span\",{className:\"box day-name\"},\"Sat\"),/*#__PURE__*/React.createElement(\"span\",{className:\"box day-name\"},\"Sun\"));}}]);return DayNames;}(React.Component);/*\r\n  Rendering Weeks\r\n*/var Week=/*#__PURE__*/function(_React$Component4){_inherits(Week,_React$Component4);var _super4=_createSuper(Week);function Week(){_classCallCheck(this,Week);return _super4.apply(this,arguments);}_createClass(Week,[{key:\"render\",value:function render(){var days=[];var date=this.props.previousCurrentNextView;var currentMonthView=this.props.currentMonthView;var selected=this.props.selected;var select=this.props.select;var monthEvents=this.props.monthEvents;for(var i=0;i<7;i++){var dayHasEvents=false;for(var j=0;j<monthEvents.length;j++){if(date.format(\"DD MMMM YYYY\")==moment(monthEvents[j].date).format(\"DD MMMM YYYY\")){dayHasEvents=true;}}var day={name:date.format(\"dd\").substring(0,1),number:date.date(),isCurrentMonth:date.month()===currentMonthView.month(),isToday:date.isSame(new Date(),\"day\"),date:date,hasEvents:dayHasEvents};days.push(/*#__PURE__*/React.createElement(Day,{day:day,selected:selected,select:select}));date=date.clone();date.add(1,\"d\");}return/*#__PURE__*/React.createElement(\"div\",{className:\"row-c week\"},days);}}]);return Week;}(React.Component);/*\r\n  Rendering Days\r\n*/var Day=/*#__PURE__*/function(_React$Component5){_inherits(Day,_React$Component5);var _super5=_createSuper(Day);function Day(){_classCallCheck(this,Day);return _super5.apply(this,arguments);}_createClass(Day,[{key:\"render\",value:function render(){var day=this.props.day;var selected=this.props.selected;var select=this.props.select;return/*#__PURE__*/React.createElement(\"div\",{className:\"day\"+(day.isToday?\" today\":\"\")+(day.isCurrentMonth?\"\":\" different-month\")+(day.date.isSame(selected)?\" selected\":\"\")+(day.hasEvents?\" has-events\":\"\"),onClick:function onClick(){return select(day);}},/*#__PURE__*/React.createElement(\"div\",{className:\"day-number\"},day.number));}}]);return Day;}(React.Component);export default Calendar;","map":{"version":3,"sources":["C:/Users/kranthik/Documents/Projects/f-t-l-assignment/src/components/Calendar.js"],"names":["React","moment","TransitionGroup","Calendar","props","state","selectedMonth","selectedDay","startOf","selectedMonthEvents","showEvents","timings","member","previous","bind","next","showCalendar","goToCurrentMonthView","initialiseEvents","currentMonthView","setState","subtract","add","day","date","clone","format","currentSelectedDay","monthEvents","weeks","done","previousCurrentNextView","count","monthIndex","month","push","select","activity_periods","activityPeriods","title","endTime","allEvents","i","length","start_time","end_time","dynamic","renderDayLabel","renderMonthLabel","renderWeeks","Component","Events","monthEventsRendered","map","event","dayEventsRendered","DayNames","Week","days","selected","dayHasEvents","j","name","substring","number","isCurrentMonth","isToday","isSame","Date","hasEvents","Day"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport moment from 'moment';\r\nimport {TransitionGroup} from 'react-transition-group';\r\n\r\nclass Calendar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      selectedMonth: moment(),\r\n      selectedDay: moment().startOf('day'),\r\n      selectedMonthEvents: [],\r\n      showEvents: false,\r\n      timings: this.props.member\r\n    };\r\n\r\n    this.previous = this.previous.bind(this);\r\n    this.next = this.next.bind(this);\r\n    this.showCalendar = this.showCalendar.bind(this);\r\n    this.goToCurrentMonthView = this.goToCurrentMonthView.bind(this);\r\n\r\n    this.initialiseEvents();\r\n  }\r\n\r\n  previous() {\r\n    const currentMonthView = this.state.selectedMonth;\r\n    this.setState({\r\n      selectedMonth: currentMonthView.subtract(1, \"month\")\r\n    });\r\n  }\r\n\r\n  next() {\r\n    const currentMonthView = this.state.selectedMonth;\r\n    this.setState({\r\n      selectedMonth: currentMonthView.add(1, \"month\")\r\n    });\r\n  }\r\n\r\n  select(day) {\r\n    this.setState({\r\n      selectedMonth: day.date,\r\n      selectedDay: day.date.clone(),\r\n      showEvents: true\r\n    });\r\n  }\r\n\r\n  goToCurrentMonthView() {\r\n    this.setState({\r\n      selectedMonth: moment()\r\n    });\r\n  }\r\n  \r\n  showCalendar() {\r\n    this.setState({\r\n      selectedMonth: this.state.selectedMonth,\r\n      selectedDay: this.state.selectedDay,\r\n      showEvents: false\r\n    });\r\n  }\r\n\r\n  renderMonthLabel() {\r\n    const currentMonthView = this.state.selectedMonth;\r\n    return (\r\n      <span className=\"box month-label\">\r\n        {currentMonthView.format(\"MMMM YYYY\")}\r\n      </span>\r\n    );\r\n  }\r\n\r\n  renderDayLabel() {\r\n    const currentSelectedDay = this.state.selectedDay;\r\n    return (\r\n      <span className=\"box month-label\">\r\n        {currentSelectedDay.format(\"DD MMMM YYYY\")}\r\n      </span>\r\n    );\r\n  }\r\n  \r\n  renderWeeks() {\r\n    /*\r\n      Rendering weeks\r\n    */\r\n    const currentMonthView = this.state.selectedMonth;\r\n    const currentSelectedDay = this.state.selectedDay;\r\n    const monthEvents = this.state.selectedMonthEvents;\r\n\r\n    let weeks = [];\r\n    let done = false;\r\n    let previousCurrentNextView = currentMonthView\r\n      .clone()\r\n      .startOf(\"month\")\r\n      .subtract(1, \"d\")\r\n      .day(\"Monday\");\r\n    let count = 0;\r\n    let monthIndex = previousCurrentNextView.month();\r\n\r\n    while (!done) {\r\n      weeks.push(\r\n        <Week\r\n          previousCurrentNextView={previousCurrentNextView.clone()}\r\n          currentMonthView={currentMonthView}\r\n          monthEvents={monthEvents}\r\n          selected={currentSelectedDay}\r\n          select={day => this.select(day)}\r\n        />\r\n      );\r\n      previousCurrentNextView.add(1, \"w\");\r\n      done = count++ > 2 && monthIndex !== previousCurrentNextView.month();\r\n      monthIndex = previousCurrentNextView.month();\r\n    }\r\n    return weeks;\r\n  }\r\n\r\n  initialiseEvents() {\r\n\r\n    /*\r\n      Initialising Events\r\n    */\r\n    let monthEvents = this.state.selectedMonthEvents;\r\n    let timings = this.state.timings.activity_periods;\r\n    let activityPeriods = [];\r\n    let title;\r\n    let date;\r\n    let endTime;\r\n    let allEvents = [];\r\n    for (let i = 0; i < timings.length; i++) {\r\n      title = \"Event\"+ (i+1);\r\n      date = moment(timings[i].start_time);\r\n      endTime = moment(timings[i].end_time);\r\n      activityPeriods.push({title:title, date:date, endTime:endTime,dynamic:false});\r\n    }\r\n\r\n    /*\r\n      activityPeriods: constructing activityPeriods which contains title,starttime,endtime\r\n    */\r\n    allEvents.push(activityPeriods);\r\n    for (var i = 0; i < activityPeriods.length; i++) {\r\n      monthEvents.push(activityPeriods[i]);\r\n    }\r\n\r\n    /*\r\n      selectedMonthEvents: It contains the details of users activity i.e., date/timings\r\n    */\r\n    this.setState({\r\n      selectedMonthEvents: monthEvents\r\n    });\r\n  }\r\n  render() {\r\n    const currentMonthView = this.state.selectedMonth;\r\n    const currentSelectedDay = this.state.selectedDay;\r\n    const showEvents = this.state.showEvents;\r\n    if (showEvents) {\r\n      return (\r\n        <section className=\"main-calendar\">\r\n          <header className=\"calendar-header\">\r\n            <div className=\"row-c title-header\">\r\n              {this.renderDayLabel()}\r\n            </div>\r\n            <div className=\"row-c button-container\">\r\n              <i\r\n                className=\"box arrow fa fa-angle-left\"\r\n                onClick={this.showCalendar}\r\n              />\r\n            </div>\r\n          </header>\r\n          <Events\r\n            selectedMonth={this.state.selectedMonth}\r\n            selectedDay={this.state.selectedDay}\r\n            selectedMonthEvents={this.state.selectedMonthEvents}\r\n          />\r\n        </section>\r\n      );\r\n    } else {\r\n      return (\r\n        <section className=\"main-calendar\">\r\n          <header className=\"calendar-header\">\r\n            <div className=\"row-c title-header\">\r\n              <i\r\n                className=\"box arrow fa fa-angle-left\"\r\n                onClick={this.previous}\r\n              />\r\n              <div className=\"box header-text\">\r\n              {this.renderMonthLabel()}\r\n              </div>\r\n              <i className=\"box arrow fa fa-angle-right\" onClick={this.next} />\r\n            </div>\r\n            <DayNames />\r\n          </header>\r\n          <div className=\"days-container\">\r\n            {this.renderWeeks()}\r\n          </div>\r\n        </section>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nclass Events extends React.Component {\r\n  render() {\r\n    const currentMonthView = this.props.selectedMonth;\r\n    const currentSelectedDay = this.props.selectedDay;\r\n    const monthEvents = this.props.selectedMonthEvents;\r\n\r\n    const monthEventsRendered = monthEvents.map((event, i) => {\r\n      return (\r\n        <div\r\n          key={event.title}\r\n          className=\"event-container\"\r\n        >\r\n          <TransitionGroup\r\n            component=\"div\"\r\n            className=\"animated-time\"\r\n            transitionName=\"time\"\r\n            transitionappear={true}\r\n            transitionappeartimeout={500}\r\n            transitionentertimeout={500}\r\n            transitionleavetimeout={500}\r\n          >\r\n            <div className=\"event-time event-attribute\">\r\n              {event.date.format(\"HH:mm\")} -\r\n              {event.endTime.format(\"HH:mm\")}\r\n            </div>\r\n          </TransitionGroup>\r\n          <TransitionGroup\r\n            component=\"div\"\r\n            className=\"animated-title\"\r\n            transitionName=\"title\"\r\n            transitionappear={true}\r\n            transitionappeartimeout={500}\r\n            transitionentertimeout={500}\r\n            transitionleavetimeout={500}\r\n          >\r\n            <div className=\"event-title event-attribute\">{event.title}</div>\r\n          </TransitionGroup>\r\n        </div>\r\n      );\r\n    });\r\n\r\n    const dayEventsRendered = [];\r\n\r\n    for (let i = 0; i < monthEventsRendered.length; i++) {\r\n        if (currentSelectedDay.format(\"DD MMMM YYYY\") == moment(monthEvents[i].date).format(\"DD MMMM YYYY\")){\r\n        dayEventsRendered.push(monthEventsRendered[i]);\r\n      }\r\n    }\r\n\r\n    return (\r\n      <div className=\"day-events\">\r\n        {dayEventsRendered}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n/*\r\n  Days Header\r\n*/\r\nclass DayNames extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"row-c days-header\">\r\n        <span className=\"box day-name\">Mon</span>\r\n        <span className=\"box day-name\">Tue</span>\r\n        <span className=\"box day-name\">Wed</span>\r\n        <span className=\"box day-name\">Thu</span>\r\n        <span className=\"box day-name\">Fri</span>\r\n        <span className=\"box day-name\">Sat</span>\r\n        <span className=\"box day-name\">Sun</span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n/*\r\n  Rendering Weeks\r\n*/\r\nclass Week extends React.Component {\r\n  render() {\r\n    let days = [];\r\n    let date = this.props.previousCurrentNextView;\r\n    let currentMonthView = this.props.currentMonthView;\r\n    let selected = this.props.selected;\r\n    let select = this.props.select;\r\n    let monthEvents = this.props.monthEvents;\r\n    for (let i = 0; i < 7; i++) {\r\n      var dayHasEvents = false;\r\n\r\n      for (let j = 0; j < monthEvents.length; j++) {\r\n        if (date.format(\"DD MMMM YYYY\") == moment(monthEvents[j].date).format(\"DD MMMM YYYY\")) {\r\n          dayHasEvents = true;\r\n        }\r\n      }\r\n\r\n      let day = {\r\n        name: date.format(\"dd\").substring(0, 1),\r\n        number: date.date(),\r\n        isCurrentMonth: date.month() === currentMonthView.month(),\r\n        isToday: date.isSame(new Date(), \"day\"),\r\n        date: date,\r\n        hasEvents: dayHasEvents\r\n      };\r\n\r\n      days.push(<Day day={day} selected={selected} select={select} />);\r\n      date = date.clone();\r\n      date.add(1, \"d\");\r\n    }\r\n    return (\r\n      <div className=\"row-c week\">\r\n        {days}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n/*\r\n  Rendering Days\r\n*/\r\nclass Day extends React.Component {\r\n  render() {\r\n    let day = this.props.day;\r\n    let selected = this.props.selected;\r\n    let select = this.props.select;\r\n\r\n    return (\r\n      <div\r\n        className={\r\n          \"day\" +\r\n          (day.isToday ? \" today\" : \"\") +\r\n          (day.isCurrentMonth ? \"\" : \" different-month\") +\r\n          (day.date.isSame(selected) ? \" selected\" : \"\") +\r\n          (day.hasEvents ? \" has-events\" : \"\")\r\n        }\r\n        onClick={() => select(day)}\r\n      >\r\n        <div className=\"day-number\">{day.number}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default Calendar;"]},"metadata":{},"sourceType":"module"}